(this["webpackJsonpassignment-commutatus"]=this["webpackJsonpassignment-commutatus"]||[]).push([[0],{145:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(53),l=a.n(r),s=(a(145),a(146),a(17)),i=a(11),j=a(175),d=a(170),o=a(174),m=a(173),b=a(19),h=function(e){if(e){var t=localStorage.getItem(e.toLowerCase());try{t?t=JSON.parse(t):u(e,t=[])}catch(a){console.log(a)}finally{return t}}},u=function(e,t){e&&localStorage.setItem(e.toLowerCase(),JSON.stringify(t))},O=function(e){return h("departments").some((function(t){return t.name===e.toLowerCase()}))},x=function(e){var t=e.email;return h("employees").filter((function(e){return t&&t.toLowerCase()===e.email.toLowerCase()})).length},p=a(2),f=Object(n.createContext)(),C=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(b.a)(a,2),r=c[0],l=c[1],s=Object(n.useState)([]),i=Object(b.a)(s,2),j=i[0],d=i[1];return Object(n.useEffect)((function(){l(h("departments")),d(h("employees"))}),[]),Object(p.jsx)(f.Provider,{value:{departments:r,setDepartments:l,employees:j,setEmployees:d},children:t})},y=a(37),g=a(172),v=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=h("employees");c(e),console.log(e)}),[]),Object(p.jsx)("div",{children:Object(p.jsxs)(o.a,{children:[Object(p.jsxs)(o.a.Column,{floated:"left",width:6,children:[Object(p.jsx)(j.a,{as:"h3",children:"Employee Details"}),Object(p.jsx)("p",{children:"Emplyee details and some more actions"})]}),Object(p.jsx)(o.a.Column,{floated:"right",width:6,children:Object(p.jsxs)(s.b,{to:"/updateEmployee",className:"ui primary button",children:[Object(p.jsx)(y.a,{name:"plus"})," New"]})}),Object(p.jsx)(o.a.Column,{width:12,children:Object(p.jsxs)(g.a,{color:"blue",children:[Object(p.jsx)(g.a.Header,{children:Object(p.jsxs)(g.a.Row,{children:[Object(p.jsx)(g.a.HeaderCell,{children:"ID"}),Object(p.jsx)(g.a.HeaderCell,{children:"Name"}),Object(p.jsx)(g.a.HeaderCell,{children:"Email"}),Object(p.jsx)(g.a.HeaderCell,{children:"Phone Number"}),Object(p.jsx)(g.a.HeaderCell,{children:"Action"})]})}),Object(p.jsx)(g.a.Body,{children:a&&a.map((function(e){var t=e.id,a=e.name,n=e.email,c=e.phoneNumber;return Object(p.jsxs)(g.a.Row,{children:[Object(p.jsx)(g.a.Cell,{children:t}),Object(p.jsx)(g.a.Cell,{children:a}),Object(p.jsx)(g.a.Cell,{children:n}),Object(p.jsx)(g.a.Cell,{children:c}),Object(p.jsx)(g.a.Cell,{children:Object(p.jsxs)(s.b,{to:"/updateEmployee/".concat(t),className:"ui primary button",children:[Object(p.jsx)(y.a,{name:"edit"})," Edit"]})})]},t)}))})]},"employeesTable")})]})})},w=a(128),N=a(167),E=a(171),D=a(168),I=function(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(b.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(!1),s=Object(b.a)(l,2),d=s[0],m=s[1],O=Object(i.g)().id;Object(n.useEffect)((function(){var e,t=(e=+O,h("employees").find((function(t){return t.id===e})));t&&t.email&&(r(Object(w.a)({},t)),m(!0))}),[O]);var f=function(e){var t=c;t[e.target.name]=e.target.value,r(t),console.log(O)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsxs)(j.a,{as:"h3",children:[O?"Update":"Add"," Employee Details "]}),Object(p.jsx)(o.a,{children:Object(p.jsx)(o.a.Column,{width:8,children:Object(p.jsxs)(E.a,{children:[Object(p.jsx)(E.a.Field,{id:"full-name",control:D.a,label:"Name",name:"name",defaultValue:d&&c&&c.name||"",placeholder:"joe schmoe",onChange:f}),Object(p.jsx)(E.a.Field,{id:"phone-number",control:D.a,label:"Phone Number",name:"phoneNumber",defaultValue:d&&c&&c.phoneNumber||"",onChange:f}),Object(p.jsx)(E.a.Field,{id:"email",control:D.a,label:"Email",name:"email",defaultValue:d&&c&&c.email||"",placeholder:"joe@schmoe.com",onChange:f}),Object(p.jsx)("button",{className:"ui primary button",onClick:function(){var t=c;d?function(e){var t=h("employees");t.length&&(t.forEach((function(t){e.id===t.id&&(t.name=e.name,t.email=e.email,t.phoneNumber=e.phoneNumber)})),u("employees",t))}(t):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"employees",t=arguments.length>1?arguments[1]:void 0;if(x(t))return{error:"Employee already exist."};var a=h(e);a.length?t.id=a[a.length-1].id+1:t.id=1,a.push(t),u("employees",a)}("employees",t),e.push("/employee")},children:"Save"})]})})})]})})},S=function(){var e=Object(n.useContext)(f),t=e.departments,a=e.employees;return console.log(t,a),Object(p.jsx)("div",{children:Object(p.jsxs)(o.a,{children:[Object(p.jsxs)(o.a.Column,{floated:"left",width:6,children:[Object(p.jsx)(j.a,{as:"h3",children:"Departments Details"}),Object(p.jsx)("p",{children:"Departments details and some more actions"})]}),Object(p.jsx)(o.a.Column,{floated:"right",width:6,children:Object(p.jsxs)(s.b,{to:"/AddDepartment",className:"ui primary button mini",children:[Object(p.jsx)(y.a,{name:"plus"})," New"]})}),Object(p.jsx)(o.a.Column,{width:12,children:Object(p.jsxs)(g.a,{color:"blue",children:[Object(p.jsx)(g.a.Header,{children:Object(p.jsx)(g.a.Row,{children:["ID","Department Name","Action"].map((function(e){return Object(p.jsx)(g.a.HeaderCell,{children:e},e)}))})}),Object(p.jsx)(g.a.Body,{children:t&&t.map((function(e){var t=e.name,a=e.id;e.teams;return Object(p.jsxs)(g.a.Row,{children:[Object(p.jsx)(g.a.Cell,{children:a}),Object(p.jsx)(g.a.Cell,{children:t}),Object(p.jsx)(g.a.Cell,{children:Object(p.jsxs)(s.b,{to:"/departmentDetails/".concat(a),className:"ui primary button mini",children:[Object(p.jsx)(y.a,{name:"eye"})," View"]})})]},a)}))})]},"departmentsTable")})]})})},T=function(){var e=Object(i.f)(),t=Object(n.useState)(null),a=Object(b.a)(t,2),c=a[0],r=a[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(j.a,{as:"h3",children:"Add Department Details"}),Object(p.jsx)(o.a,{children:Object(p.jsx)(o.a.Column,{width:8,children:Object(p.jsxs)(E.a,{children:[Object(p.jsx)(E.a.Field,{id:"full-name",control:D.a,label:"Department Name",name:"departmentName",onChange:function(e){r(e.target.value)}}),Object(p.jsx)("button",{className:"ui primary button",onClick:function(t){c&&(function(e){if(O(e))return{error:"Department already exist."};var t={name:e.toLowerCase(),teams:[]},a=h("departments");a.length?t.id=a[a.length-1].id+1:t.id=1,a.push(t),u("departments",a)}(c)||e.push("/departments"))},children:"Save"})]})})})]})})},F=function(){var e,t=Object(n.useContext)(f).departments,a=Object(i.g)().id,c=Object(n.useState)((e=a,t.find((function(t){return t.id===+e})))),r=Object(b.a)(c,1)[0];return Object(p.jsx)("div",{children:Object(p.jsxs)(o.a,{children:[Object(p.jsxs)(o.a.Column,{floated:"left",width:6,children:[Object(p.jsx)(j.a,{as:"h3",children:r&&r.name}),Object(p.jsx)("p",{children:"Below are the team details present under this department"})]}),Object(p.jsx)(o.a.Column,{floated:"right",width:6,children:Object(p.jsxs)(s.b,{to:"/addTeam/".concat(a),className:"ui primary button mini",children:[Object(p.jsx)(y.a,{name:"plus"})," New"]})}),Object(p.jsx)(o.a.Column,{width:12,children:Object(p.jsxs)(g.a,{color:"blue",children:[Object(p.jsx)(g.a.Header,{children:Object(p.jsx)(g.a.Row,{children:["ID","Team Name","Team Leader","Action"].map((function(e){return Object(p.jsx)(g.a.HeaderCell,{children:e},e)}))})}),Object(p.jsx)(g.a.Body,{children:r&&r.teams.map((function(e){var t=e.name,a=e.id;return Object(p.jsxs)(g.a.Row,{children:[Object(p.jsx)(g.a.Cell,{children:a}),Object(p.jsx)(g.a.Cell,{children:t}),Object(p.jsx)(g.a.Cell,{children:Object(p.jsxs)(s.b,{to:"/department/".concat(a),className:"ui primary button mini",children:[Object(p.jsx)(y.a,{name:"eye"})," View"]})})]},a)}))})]},"departmentsTable")})]})})},H=a(169),L=function(){var e=Object(i.f)(),t=Object(i.g)().departmentId,a=Object(n.useContext)(f),c=a.setDepartments,r=a.employees,l=a.setEmployees,s=Object(n.useState)({departmentId:+t}),d=Object(b.a)(s,2),m=d[0],O=d[1],x=Object(n.useState)([]),C=Object(b.a)(x,2),y=C[0],g=C[1];Object(n.useEffect)((function(){var e=r.map((function(e){var t=e.id;return{key:t,text:e.name,value:t}}));g(e)}),[r]);var v=function(e,t){var a=t.name,n=t.value,c=m;c[a]=n,O(c),console.log(m)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(j.a,{as:"h3",children:"Add Team Details"}),Object(p.jsx)(o.a,{children:Object(p.jsx)(o.a.Column,{width:8,children:Object(p.jsxs)(E.a,{children:[Object(p.jsx)(E.a.Field,{id:"full-name",control:D.a,label:"Team Name",name:"name",onChange:v}),Object(p.jsx)(E.a.Field,{control:H.a,label:"Team Leader",name:"teamLeader",options:y,placeholder:"Team Leader",search:!0,onChange:v}),Object(p.jsx)(E.a.Field,{control:H.a,label:"Team Members",options:y,placeholder:"Team Memebers",name:"teamMembers",search:!0,multiple:!0,selection:!0,onChange:v}),Object(p.jsx)("button",{className:"ui primary button",onClick:function(a){var n=function(e){var t=h("departments");t.length?e.id=t[t.length-1].id+1:e.id=1;var a=h("employees");return t.forEach((function(t){var n;t.id!==e.departmentId||(n=e.name,t.teams.some((function(e){return e.name===n.toLowerCase()})))||(t.teams.push(e),a.filter((function(t){var a=t.id;return e.teamMembers.includes(a)})).forEach((function(t){t.departmentId=e.departmentId,t.teamId=e.id})))})),u("employees",a),u("departments",t),{updatedEmployees:a,updatedDepartments:t}}(m),r=n.updatedDepartments,s=n.updatedEmployees;l(s),c(r),e.push("/departmentDetails/".concat(t))},children:"Save"})]})})})]})})};var A=function(){return Object(p.jsxs)(m.a,{children:[Object(p.jsxs)(m.a.Item,{children:[Object(p.jsx)(m.a.Icon,{name:"users"}),Object(p.jsx)(m.a.Content,{children:Object(p.jsx)(s.b,{to:"/employee",children:Object(p.jsx)(m.a.Header,{children:"Employee Details"})})})]}),Object(p.jsxs)(m.a.Item,{children:[Object(p.jsx)(m.a.Icon,{name:"user"}),Object(p.jsxs)(m.a.Content,{children:[Object(p.jsx)(s.b,{to:"/departments",children:Object(p.jsx)(m.a.Header,{children:"CEO"})}),Object(p.jsx)(m.a.List,{children:Object(p.jsxs)(m.a.Item,{children:[Object(p.jsx)(m.a.Icon,{name:"building"}),Object(p.jsx)(m.a.Content,{children:Object(p.jsx)(s.b,{to:"/department/1",children:Object(p.jsx)(m.a.Header,{children:"Head of Engineering"})})})]})})]})]})]})},k=function(){return Object(p.jsx)(C,{children:Object(p.jsxs)("div",{style:{padding:"1rem"},children:[Object(p.jsx)(j.a,{as:"h2",children:"Employee Management"}),Object(p.jsx)(d.a,{}),Object(p.jsx)(s.a,{children:Object(p.jsxs)(o.a,{children:[Object(p.jsx)(o.a.Column,{width:4,children:Object(p.jsx)(A,{})}),Object(p.jsx)(o.a.Column,{width:12,children:Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{path:"/employee",children:Object(p.jsx)(v,{})}),Object(p.jsx)(i.a,{path:"/updateEmployee/:id",children:Object(p.jsx)(I,{})}),Object(p.jsx)(i.a,{path:"/updateEmployee",children:Object(p.jsx)(I,{})}),Object(p.jsx)(i.a,{path:"/departmentDetails/:id",children:Object(p.jsx)(F,{})}),Object(p.jsx)(i.a,{path:"/addDepartment",children:Object(p.jsx)(T,{})}),Object(p.jsx)(i.a,{path:"/departments",children:Object(p.jsx)(S,{})}),Object(p.jsx)(i.a,{path:"/addTeam/:departmentId",children:Object(p.jsx)(L,{})})]})})]})})]})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,177)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),B()}},[[154,1,2]]]);
//# sourceMappingURL=main.9a1db8cd.chunk.js.map