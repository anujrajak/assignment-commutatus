(this["webpackJsonpassignment-commutatus"]=this["webpackJsonpassignment-commutatus"]||[]).push([[0],{127:function(e){e.exports=JSON.parse('{"departments":[{"name":"head of engineering","head":1,"teams":[{"departmentId":1,"name":"Team 1","teamLeader":4,"teamMembers":[5,6,7],"id":1}],"id":1},{"name":"head of staff/hr","head":2,"teams":[{"departmentId":2,"name":"Team HR 1","teamLeader":8,"teamMembers":[9,10,11,12],"id":1}],"id":2},{"name":" head of design","head":3,"teams":[{"departmentId":3,"name":"Design 1","teamLeader":13,"teamMembers":[14,15,16],"id":1}],"id":3}]}')},128:function(e){e.exports=JSON.parse('{"employees":[{"id":1,"name":"Jaime Bernard","email":"jaimebernard@boink.com","phoneNumber":"+1 (993) 442-2118","departmentId":1,"position":"head"},{"id":2,"name":"Janis Middleton","email":"janismiddleton@boink.com","phoneNumber":"+1 (907) 528-2508","departmentId":2,"position":"head"},{"id":3,"name":"Valarie Gonzalez","email":"valariegonzalez@boink.com","phoneNumber":"+1 (806) 455-2812","departmentId":3,"position":"head"},{"id":4,"name":"Huber Rivas","email":"huberrivas@boink.com","phoneNumber":"+1 (843) 484-2869","position":"team leader","departmentId":1,"teamId":1},{"id":5,"name":"Cora Morris","email":"coramorris@boink.com","phoneNumber":"+1 (851) 409-2633","position":"team member","departmentId":1,"teamId":1},{"id":6,"name":"Cole Stout","email":"colestout@podunk.com","phoneNumber":"+1 (944) 448-3083","position":"team member","departmentId":1,"teamId":1},{"id":7,"name":"Dorothy Parks","email":"dorothyparks@podunk.com","phoneNumber":"+1 (866) 405-2564","position":"team member","departmentId":1,"teamId":1},{"id":8,"name":"Alissa Pickett","email":"alissapickett@podunk.com","phoneNumber":"+1 (824) 419-2959","position":"team leader","departmentId":2,"teamId":1},{"id":9,"name":"Mara Bishop","email":"marabishop@podunk.com","phoneNumber":"+1 (864) 526-3469","position":"team member","departmentId":2,"teamId":1},{"id":10,"name":"Mcpherson Carlson","email":"mcphersoncarlson@podunk.com","phoneNumber":"+1 (872) 512-3657","position":"team member","departmentId":2,"teamId":1},{"id":11,"name":"Liliana Strong","email":"lilianastrong@podunk.com","phoneNumber":"+1 (863) 583-2051","position":"team member","departmentId":2,"teamId":1},{"id":12,"name":"Juliette Callahan","email":"juliettecallahan@podunk.com","phoneNumber":"+1 (888) 522-3881","position":"team member","departmentId":2,"teamId":1},{"id":13,"name":"Alison Galloway","email":"alisongalloway@podunk.com","phoneNumber":"+1 (897) 421-3559","position":"team leader","departmentId":3,"teamId":1},{"id":14,"name":"Rowe Crawford","email":"rowecrawford@podunk.com","phoneNumber":"+1 (936) 498-3288","position":"team member","departmentId":3,"teamId":1},{"id":15,"name":"Nielsen Norris","email":"nielsennorris@podunk.com","phoneNumber":"+1 (868) 463-3333","position":"team member","departmentId":3,"teamId":1},{"id":16,"name":"Stacy Suarez","email":"stacysuarez@podunk.com","phoneNumber":"+1 (952) 556-2280","position":"team member","departmentId":3,"teamId":1},{"id":17,"name":"Guthrie Parrish","email":"guthrieparrish@podunk.com","phoneNumber":"+1 (965) 402-3884"},{"id":18,"name":"Rose Kerr","email":"rosekerr@podunk.com","phoneNumber":"+1 (905) 486-2774"},{"id":19,"name":"Vance Bean","email":"vancebean@podunk.com","phoneNumber":"+1 (970) 581-3100"},{"id":20,"name":"Hunt Burgess","email":"huntburgess@podunk.com","phoneNumber":"+1 (882) 447-2711"},{"id":21,"name":"Pamela Odonnell","email":"pamelaodonnell@podunk.com","phoneNumber":"+1 (913) 459-3125"}]}')},150:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(54),d=a.n(c),i=(a(150),a(151),a(12)),s=a(13),m=a(173),l=a(182),o=a(184),j=a(181),u=a(10),b=a(119),p=a(127),h=a(128),O=function(e){if(e){var t=localStorage.getItem(e.toLowerCase());try{t?t=JSON.parse(t):x(e,t=[])}catch(a){console.log(a)}finally{return t}}},x=function(e,t){e&&localStorage.setItem(e.toLowerCase(),JSON.stringify(t))},f=function(e){return O("departments").some((function(t){return t.name===e.toLowerCase()}))},v=function(e,t){return t.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))},y=function(e){var t=e.email;return O("employees").filter((function(e){return t&&t.toLowerCase()===e.email.toLowerCase()})).length},I=function(e,t){return e.find((function(e){return e.id===+t}))},C=function(e,t,a){return e.filter((function(e){return!e.departmentId&&!e.teamId||e.teamId===+t&&e.departmentId===+a})).map((function(e){var t=e.id;return{key:t,text:e.name,value:t}}))},g=a(1),N=Object(n.createContext)(),w=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(u.a)(a,2),c=r[0],d=r[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),m=s[0],l=s[1];return Object(n.useEffect)((function(){var e=O("departments"),t=O("employees");e.length||(e=function(){var e=p;return x("departments",e.departments),e.departments}()),t.length||(t=function(){var e=h;return x("employees",e.employees),e.employees}()),d(e),l(t)}),[]),Object(g.jsx)(N.Provider,{value:{departments:c,setDepartments:d,employees:m,setEmployees:l},children:t})},D=a(38),S=a(177),E=a(172),k=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),d=Object(u.a)(c,2),s=d[0],m=d[1],o=Object(n.useContext)(N).employees;Object(n.useEffect)((function(){r(o),m(o)}),[o]);return Object(g.jsx)("div",{children:Object(g.jsxs)(j.a,{children:[Object(g.jsxs)(j.a.Column,{floated:"left",width:13,children:[Object(g.jsx)(l.a,{as:"h3",children:"Employees Details"}),Object(g.jsx)("p",{children:"Emplyee details and some more actions"})]}),Object(g.jsx)(j.a.Column,{floated:"right",width:3,children:Object(g.jsxs)(i.b,{to:"/updateEmployee",className:"ui primary right floated button mini",children:[Object(g.jsx)(D.a,{name:"plus"})," New"]})}),Object(g.jsx)(j.a.Column,{width:16,children:Object(g.jsxs)(S.a,{celled:!0,children:[Object(g.jsxs)(S.a.Header,{children:[Object(g.jsxs)(S.a.Row,{children:[Object(g.jsx)(S.a.HeaderCell,{colSpan:5,children:Object(g.jsx)("p",{children:"Please enter any employee details to search."})}),Object(g.jsx)(S.a.HeaderCell,{children:Object(g.jsx)(E.a,{icon:"search",placeholder:"Search...",className:"mini",onChange:function(e,t){var n=t.value;if(n){var r=a.filter((function(e){return Object.values(e).join(" ").toLowerCase().includes(n.toLowerCase())}));m(r)}else m(a)}})})]}),Object(g.jsxs)(S.a.Row,{children:[Object(g.jsx)(S.a.HeaderCell,{children:"ID"}),Object(g.jsx)(S.a.HeaderCell,{children:"Name"}),Object(g.jsx)(S.a.HeaderCell,{children:"Email"}),Object(g.jsx)(S.a.HeaderCell,{children:"Phone Number"}),Object(g.jsx)(S.a.HeaderCell,{children:"Position"}),Object(g.jsx)(S.a.HeaderCell,{children:"Action"})]})]}),Object(g.jsx)(S.a.Body,{children:s&&s.map((function(e){var t=e.id,a=e.name,n=e.email,r=e.phoneNumber,c=e.position,d=e.departmentId,s=e.teamId;return Object(g.jsxs)(S.a.Row,{children:[Object(g.jsx)(S.a.Cell,{children:t}),Object(g.jsx)(S.a.Cell,{children:a}),Object(g.jsx)(S.a.Cell,{children:n}),Object(g.jsx)(S.a.Cell,{children:r}),Object(g.jsx)(S.a.Cell,{children:c}),Object(g.jsxs)(S.a.Cell,{width:2,children:[Object(g.jsxs)(i.b,{to:"/updateEmployee/".concat(t),className:"ui primary center floated button mini",children:[Object(g.jsx)(D.a,{name:"edit"})," Edit"]}),d&&s&&t&&"team member"===c&&Object(g.jsx)(i.b,{to:"/changeTeam/".concat(d,"/").concat(s,"/").concat(t),className:"ui secondary center floated button mini",children:"Change Team"})]})]},t)}))})]},"employeesTable")})]})})},L=a(133),M=a(176),T=a(180),H=function(){var e=Object(s.f)(),t=Object(n.useContext)(N),a=t.employees,r=t.setEmployees,c=Object(n.useState)({}),d=Object(u.a)(c,2),i=d[0],o=d[1],b=Object(n.useState)(!1),p=Object(u.a)(b,2),h=p[0],f=p[1],v=Object(n.useState)(null),C=Object(u.a)(v,2),w=C[0],D=C[1],S=Object(s.g)().id;Object(n.useEffect)((function(){var e=I(a,+S);e&&e.email&&(o(Object(L.a)({},e)),f(!0))}),[S,a]);var k=function(e){var t=i;t[e.target.name]=e.target.value,o(t)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(m.a,{children:[Object(g.jsxs)(l.a,{as:"h3",children:[S?"Update":"Add"," Employee Details "]}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Column,{width:8,children:Object(g.jsxs)(M.a,{children:[Object(g.jsx)(M.a.Field,{id:"full-name",control:E.a,label:"Name",name:"name",defaultValue:h&&i&&i.name||"",placeholder:"joe schmoe",onChange:k}),Object(g.jsx)(M.a.Field,{id:"phone-number",control:E.a,label:"Phone Number",name:"phoneNumber",defaultValue:h&&i&&i.phoneNumber||"",onChange:k}),Object(g.jsx)(M.a.Field,{id:"email",control:E.a,label:"Email",name:"email",defaultValue:h&&i&&i.email||"",placeholder:"joe@schmoe.com",onChange:k}),w&&Object(g.jsx)(T.a,{info:!0,header:w,content:""}),Object(g.jsx)("button",{className:"ui primary button",onClick:function(){var t=i,a={};a=h?function(e){var t=O("employees");if(t.length)return t.forEach((function(t){e.id===t.id&&(t.name=e.name,t.email=e.email,t.phoneNumber=e.phoneNumber)})),x("employees",t),{collection:t}}(t):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"employees",t=arguments.length>1?arguments[1]:void 0;if(y(t))return{error:"Employee already exist."};var a=O(e);return a.length?t.id=a[a.length-1].id+1:t.id=1,a.push(t),x("employees",a),{collection:a}}("employees",t),a.error?D(a.error):(r(a.collection),e.push("/employee"))},children:"Save"})]})})})]})})},F=function(){var e=Object(n.useContext)(N),t=e.departments,a=e.employees;return Object(g.jsx)("div",{children:Object(g.jsxs)(j.a,{children:[Object(g.jsxs)(j.a.Column,{floated:"left",width:13,children:[Object(g.jsx)(l.a,{as:"h3",children:"Departments Details"}),Object(g.jsx)("p",{children:"Departments details and some more actions"})]}),Object(g.jsx)(j.a.Column,{floated:"right",width:3,children:Object(g.jsxs)(i.b,{to:"/AddDepartment",className:"ui primary right floated button mini",children:[Object(g.jsx)(D.a,{name:"plus"})," New"]})}),Object(g.jsx)(j.a.Column,{width:16,children:Object(g.jsxs)(S.a,{color:"blue",children:[Object(g.jsx)(S.a.Header,{children:Object(g.jsx)(S.a.Row,{children:["ID","Department Name","Head","Action"].map((function(e){return Object(g.jsx)(S.a.HeaderCell,{children:e},e)}))})}),Object(g.jsx)(S.a.Body,{children:t&&t.map((function(e){var t=e.name,n=e.id,r=(e.teams,e.head);return Object(g.jsxs)(S.a.Row,{children:[Object(g.jsx)(S.a.Cell,{children:n}),Object(g.jsx)(S.a.Cell,{children:t}),Object(g.jsx)(S.a.Cell,{children:I(a,r).name}),Object(g.jsx)(S.a.Cell,{children:Object(g.jsxs)(i.b,{to:"/departmentDetails/".concat(n),className:"ui primary button mini",children:[Object(g.jsx)(D.a,{name:"eye"})," View"]})})]},n)}))})]},"departmentsTable")})]})})},B=a(174),A=function(){var e=Object(s.f)(),t=Object(n.useContext)(N),a=t.employees,r=t.setDepartments,c=t.setEmployees,d=Object(n.useState)({}),i=Object(u.a)(d,2),o=i[0],b=i[1],p=Object(n.useState)([]),h=Object(u.a)(p,2),v=h[0],y=h[1],I=Object(n.useState)(null),w=Object(u.a)(I,2),D=w[0],S=w[1];Object(n.useEffect)((function(){var e=C(a);y(e)}),[a]);var k=function(e,t){var a=t.name,n=t.value,r=o;o[a]=n,b(r)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)(l.a,{as:"h3",children:"Add Department Details"}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Column,{width:8,children:Object(g.jsxs)(M.a,{children:[Object(g.jsx)(M.a.Field,{id:"full-name",control:E.a,label:"Department Name",name:"departmentName",onChange:k}),Object(g.jsx)(M.a.Field,{control:B.a,label:"Department Head",placeholder:"Department Head",name:"departmentHead",options:v,search:!0,selection:!0,onChange:k,selectOnBlur:!1}),D&&Object(g.jsx)(T.a,{info:!0,header:"Department already exists.",content:""}),Object(g.jsx)("button",{className:"ui primary button",onClick:function(t){if(o){var a=function(e){var t=e.departmentName,a=e.departmentHead;if(f(t))return{error:"Department already exist."};var n={name:t.toLowerCase(),head:a,teams:[]},r=O("departments"),c=O("employees");r.length?n.id=r[r.length-1].id+1:n.id=1,r.push(n);var d=c.find((function(e){return e.id===a}));return d.departmentId=n.id,d.position="head",x("employees",c),x("departments",r),{employees:c,departments:r}}(o);a.error?S(!0):(c(a.employees),r(a.departments),e.push("/departments"))}},children:"Save"})]})})})]})})},R=a(178),P=function(){var e=Object(n.useContext)(N),t=e.departments,a=e.employees,r=Object(s.g)().id,c=Object(n.useState)(),d=Object(u.a)(c,2),m=d[0],o=d[1];return Object(n.useEffect)((function(){o(I(t,+r))}),[t,r]),Object(g.jsx)(g.Fragment,{children:m&&Object(g.jsx)("div",{children:Object(g.jsxs)(j.a,{children:[Object(g.jsxs)(j.a.Column,{floated:"left",width:13,children:[Object(g.jsx)(l.a,{as:"h3",children:m&&m.name}),Object(g.jsx)("p",{children:"Below are the team details of selected present under this department"})]}),Object(g.jsx)(j.a.Column,{floated:"right",width:3,children:Object(g.jsxs)(i.b,{to:"/addTeam/".concat(r),className:"ui primary right floated button mini",children:[Object(g.jsx)(D.a,{name:"plus"})," New"]})}),Object(g.jsx)(j.a.Column,{width:16,children:Object(g.jsxs)(S.a,{color:"blue",children:[Object(g.jsx)(S.a.Header,{children:Object(g.jsx)(S.a.Row,{children:["ID","Team Name","Team Leader","Team Members","Action"].map((function(e){return Object(g.jsx)(S.a.HeaderCell,{children:e},e)}))})}),Object(g.jsx)(S.a.Body,{children:m&&m.teams.map((function(e){var t=e.name,n=e.id,c=e.teamLeader,d=e.teamMembers;return Object(g.jsxs)(S.a.Row,{children:[Object(g.jsx)(S.a.Cell,{children:n}),Object(g.jsx)(S.a.Cell,{children:t}),Object(g.jsx)(S.a.Cell,{children:I(a,c).name}),Object(g.jsx)(S.a.Cell,{children:Object(g.jsx)(R.a,{items:d&&d.map((function(e){return I(a,e).name}))},n)}),Object(g.jsxs)(S.a.Cell,{children:[Object(g.jsx)(i.b,{to:"/updateTeam/".concat(r,"/").concat(n),className:"ui primary button mini",children:"Edit"}),Object(g.jsx)(i.b,{to:"/updateMembers/add/".concat(r,"/").concat(n),className:"ui orange button mini",children:"Add member"}),Object(g.jsx)(i.b,{to:"/updateMembers/remove/".concat(r,"/").concat(n),className:"ui red button mini",color:"red",children:"Remove member"})]})]},n)}))})]},"departmentsTable")})]})})})},J=function(){var e=Object(s.f)(),t=Object(s.g)(),a=t.departmentId,r=t.teamId,c=Object(n.useContext)(N),d=c.departments,i=c.setDepartments,o=c.employees,b=c.setEmployees,p=Object(n.useState)({departmentId:+a}),h=Object(u.a)(p,2),f=h[0],y=h[1],w=Object(n.useState)({}),D=Object(u.a)(w,2),S=D[0],k=D[1],L=Object(n.useState)([]),H=Object(u.a)(L,2),F=H[0],A=H[1],P=Object(n.useState)([]),J=Object(u.a)(P,2),V=J[0],z=J[1],G=Object(n.useState)("add"),U=Object(u.a)(G,2),K=U[0],Y=U[1],q=Object(n.useState)(null),Q=Object(u.a)(q,2),W=Q[0],X=Q[1];Object(n.useEffect)((function(){var e=C(o,r,a);A(e),z(e)}),[o,a,r,d]),Object(n.useEffect)((function(){var e=function(e,t,a){var n=I(a,+e);if(n){return I(n.teams,+t)||{}}return{}}(a,r,d);if(e.id){k(e),Y("update");var t=f;t.id=e.id,t.name=e.name}}),[o,a,r,d,f]);var Z=function(e,t){var n=t.name,c=t.value,d=f;if(d[n]=c,y(d),"teamLeader"===n){var i=C(o,r,a).filter((function(e){return e.value!==c}));A(i)}};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(m.a,{children:[Object(g.jsxs)(l.a,{as:"h3",children:[r&&a?"Update":"Add"," Team Details"]}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Column,{width:8,children:Object(g.jsxs)(M.a,{children:[Object(g.jsx)(M.a.Field,{id:"full-name",control:E.a,label:"Team Name",name:"name",defaultValue:K&&S.name||"",onChange:Z}),"update"===K&&S&&S.teamLeader&&Object(g.jsxs)("p",{children:["Old team leader : ",I(o,S.teamLeader).name]}),Object(g.jsx)(M.a.Field,{control:B.a,label:"Team Leader",name:"teamLeader",options:V,placeholder:"Team Leader",search:!0,onChange:Z,selectOnBlur:!1}),"update"===K&&S&&S.teamMembers.length&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{children:"Old team members"}),Object(g.jsx)(R.a.Item,{as:"ol",children:S.teamMembers.map((function(e){return Object(g.jsx)(R.a.Item,{as:"li",value:"-",children:I(o,e).name},e)}))},S.id)]}),"add"===K&&Object(g.jsx)(M.a.Dropdown,{control:B.a,label:"Team Members",placeholder:"Team Memebers",name:"teamMembers",options:F,search:!0,multiple:!0,selection:!0,onChange:Z,selectOnBlur:!1}),W&&Object(g.jsx)(T.a,{info:!0,header:W,content:""}),Object(g.jsx)("button",{className:"ui primary button",onClick:function(t){var n;"update"===K?n=function(e){var t=O("departments"),a=O("employees"),n=t.find((function(t){return t.id===e.departmentId}));if(v(e.name,n.teams))return{error:"Please change the team name since this is already taken."};var r=n.teams.find((function(t){return t.id===e.id})),c=a.find((function(e){return e.id===r.teamLeader}));c.position=null,c.teamId=null,c.departmentId=null;var d=a.find((function(t){return t.id===e.teamLeader}));return d&&(d.position="team leader",d.departmentId=e.departmentId,d.teamId=e.id),r.name=e.name,e.teamLeader&&(r.teamLeader=e.teamLeader),x("employees",a),x("departments",t),{updatedEmployees:a,updatedDepartments:t}}(f):"add"===K&&(n=function(e){var t=O("departments"),a=t.find((function(t){return t.id===e.departmentId})),n=O("employees");if(v(e.name,a.teams))return{error:"Please change the team name since this is already taken."};var r=a.teams;return r.length?e.id=r[r.length-1].id+1:e.id=1,a.teams.push(e),n.filter((function(t){var a=t.id;return e.teamMembers.includes(a)||a===e.teamLeader})).forEach((function(t){e.teamLeader===t.id?t.position="team leader":t.position="team member",t.departmentId=e.departmentId,t.teamId=e.id})),x("employees",n),x("departments",t),{updatedEmployees:n,updatedDepartments:t}}(f)),n.error?X(n.error):(b(n.updatedEmployees),i(n.updatedDepartments),e.push("/departmentDetails/".concat(a)))},children:"Save"})]})})})]})})},V=function(){var e=Object(s.f)(),t=Object(s.g)(),a=t.action,r=t.departmentId,c=t.teamId,d=Object(n.useContext)(N),i=d.employees,o=d.setDepartments,p=d.setEmployees,h=Object(n.useState)([]),f=Object(u.a)(h,2),v=f[0],y=f[1],w=Object(n.useState)([]),D=Object(u.a)(w,2),S=D[0],E=D[1],k=Object(n.useState)(null),L=Object(u.a)(k,2),H=L[0],F=L[1];Object(n.useEffect)((function(){if("add"===a){var e=C(i);y(e)}else if("remove"===a){var t=function(e,t){if(!e&&!t)return[];var a=O("departments"),n=O("employees"),r=I(a,e);if(r){var c=I(r.teams,t);if(c)return n.filter((function(e){return c.teamMembers.includes(e.id)})).map((function(e){var t=e.id;return{key:t,text:e.name,value:t}}))}return{error:"Department & Team info not found."}}(r,c);t.error?F(t.error):y(t)}}),[i,r,c,a]);return Object(g.jsx)(m.a,{children:H?Object(g.jsx)(T.a,{info:!0,header:H,content:""}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(l.a,{as:"h3",children:["add"===a?"Add new":"Remove"," team members"]}),Object(g.jsxs)("p",{children:["You can ","add"===a?"add":"remove"," multiple team members in the existing team."]}),Object(g.jsxs)("p",{children:["Below field is showing all the employees which are","add"===a?" not assigned into any teams.":" present in the team."]}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Column,{width:8,children:Object(g.jsxs)(M.a,{children:[Object(g.jsx)(M.a.Select,{control:B.a,label:"Team Members",placeholder:"Team Memebers",name:"teamMembers",options:v,search:!0,multiple:!0,onChange:function(e,t){t.name;var a=t.value;E(a)},selectOnBlur:!1}),Object(g.jsx)("button",{className:"ui primary button",onClick:function(t){var n=function(e,t,a,n){var r=O("departments"),c=O("employees"),d=r.find((function(e){return e.id===+t})).teams.find((function(e){return e.id===+a})),i=c.filter((function(t){return e.includes(t.id)}));return"add"===n?(i.forEach((function(e){e.departmentId=+t,e.teamId=+a,e.position="team member"})),d.teamMembers=[].concat(Object(b.a)(d.teamMembers),Object(b.a)(e))):"remove"===n&&(i.forEach((function(e){e.departmentId=null,e.teamId=null,e.position=null})),d.teamMembers=d.teamMembers.filter((function(t){return!e.includes(t)}))),x("employees",c),x("departments",r),{updatedEmployees:c,updatedDepartments:r}}(S,r,c,a),d=n.updatedEmployees,i=n.updatedDepartments;o(i),p(d),e.push("/departmentDetails/".concat(r))},children:"Save"})]})})})]})})},z=function(){var e=Object(s.f)(),t=Object(s.g)(),a=t.departmentId,r=t.teamId,c=t.employeeId,d=Object(n.useContext)(N),i=d.departments,o=d.setEmployees,b=d.setDepartments,p=Object(n.useState)({}),h=Object(u.a)(p,2),f=h[0],v=h[1],y=Object(n.useState)({oldDep:+a,oldTeam:+r}),I=Object(u.a)(y,1)[0],C=Object(n.useState)([]),w=Object(u.a)(C,2),D=w[0],S=w[1],E=Object(n.useState)([]),k=Object(u.a)(E,2),L=k[0],H=k[1],F=Object(n.useState)(null),A=Object(u.a)(F,2),R=A[0],P=A[1],J=Object(n.useState)(!0),V=Object(u.a)(J,2),z=V[0],G=V[1];Object(n.useEffect)((function(){S(i.map((function(e){var t=e.id;return{key:t,text:e.name,value:t}})))}),[a,r,i,c]);var U=function(e,t){var n=t.name,r=t.value,c=f;if(c[n]=r,"departmentId"===n){if(2===+a&&3===+r)P("Any employee from HR can't be moved to the design Team.");else{P(null);var d=i.find((function(e){return e.id===r}));d&&H(d.teams.map((function(e){var t=e.id;return{key:t,text:e.name,value:t}}))),c.teamId=null}v(c)}c.departmentId&&c.teamId&&G(!1)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)(l.a,{as:"h3",children:"Change Team Details"}),Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Column,{width:8,children:Object(g.jsxs)(M.a,{children:[Object(g.jsx)(M.a.Dropdown,{control:B.a,label:"Departments",name:"departmentId",placeholder:"Department",options:D,onChange:U,selectOnBlur:!1}),Object(g.jsx)(M.a.Field,{control:B.a,label:"Teams",name:"teamId",placeholder:"Team",search:!0,options:L,onChange:U,selectOnBlur:!1}),R&&Object(g.jsx)(T.a,{info:!0,header:R}),Object(g.jsx)("button",{className:"ui primary button",onClick:function(t){var a=function(e,t,a){var n=e.oldDep,r=e.oldTeam,c=t.departmentId,d=t.teamId;if(!c||!d)return{error:"Please select information properly."};if(c&&d&&n===c&&r===d)return{error:"Please update valid department and team."};var i=O("departments"),s=O("employees"),m=i.find((function(e){return e.id===n})).teams.find((function(e){return e.id===r}));m.teamMembers=m.teamMembers.filter((function(e){return e!==+a})),i.find((function(e){return e.id===c})).teams.find((function(e){return e.id===d})).teamMembers.push(+a);var l=s.find((function(e){return e.id===+a}));return l.departmentId=c,l.teamId=d,x("employees",s),x("departments",i),{updatedEmployees:s,updatedDepartments:i}}(I,f,c);a.error?P(a.error):(b(a.updatedDepartments),o(a.updatedEmployees),e.push("/employee"))},disabled:z,children:"Save"})]})})})]})})},G=a(175),U=function e(t){var a=t.id,n=t.icon,r=t.route,c=t.label,d=t.childs;return Object(g.jsxs)(R.a.Item,{children:[Object(g.jsx)(R.a.Icon,{name:n}),Object(g.jsxs)(R.a.Content,{children:[Object(g.jsx)(i.b,{to:r,children:Object(g.jsx)(R.a.Header,{children:c})}),Object(g.jsx)(R.a.List,{children:d&&d.map((function(t){return Object(g.jsx)(e,{id:t.id,label:t.name,icon:"users",route:"/viewTeam/".concat(a,"/").concat(t.id)},"".concat(t.id).concat(t.name))}))})]})]},a)},K=function(){var e=Object(n.useContext)(N).departments;return Object(g.jsxs)(R.a,{children:[Object(g.jsx)(U,{icon:"users",label:"Employee Details",route:"/employee",id:"usersList"}),Object(g.jsx)(G.a,{}),Object(g.jsxs)(R.a.Item,{children:[Object(g.jsx)(R.a.Icon,{name:"user"}),Object(g.jsxs)(R.a.Content,{children:[Object(g.jsx)(i.b,{to:"/departments",children:Object(g.jsx)(R.a.Header,{children:"CEO"})}),Object(g.jsx)(R.a.List,{children:e&&e.map((function(e){return Object(g.jsx)(U,{id:e.id,label:e.name,childs:e.teams,icon:"building",route:"/departmentDetails/".concat(e.id)},"".concat(e.id))}))},"departments")]})]},"deps&teams")]})},Y=a(179),q=function(){var e=Object(n.useContext)(N),t=e.departments,a=e.employees,r=Object(s.g)(),c=r.departmentId,d=r.teamId,m=Object(n.useState)({}),l=Object(u.a)(m,2),o=l[0],b=l[1],p=Object(n.useState)({}),h=Object(u.a)(p,2),O=h[0],x=h[1];return Object(n.useEffect)((function(){var e=I(t,+c);if(e){x(e);var a=I(e.teams,+d);a&&b(a)}}),[c,d,t]),Object(g.jsx)(g.Fragment,{children:O&&o&&Object(g.jsx)("div",{children:Object(g.jsx)(j.a,{children:Object(g.jsx)(j.a.Column,{width:16,children:Object(g.jsxs)(Y.a,{style:{width:"50%"},children:[Object(g.jsxs)(Y.a.Content,{children:[Object(g.jsx)(Y.a.Header,{textAlign:"center",children:o.name}),Object(g.jsx)(Y.a.Meta,{textAlign:"center",children:O.name}),Object(g.jsx)(Y.a.Description,{children:Object(g.jsx)(R.a,{children:o.teamMembers&&a.filter((function(e){var t=e.id;return o.teamMembers.includes(t)||t===O.head||t===o.teamLeader})).map((function(e){return Object(g.jsx)(R.a.Item,{children:Object(g.jsxs)(R.a.Content,{children:[Object(g.jsx)(R.a.Header,{children:e.name}),e.position]})},e.id)}))},"empList")})]}),Object(g.jsxs)(Y.a.Content,{extra:!0,children:[Object(g.jsx)(i.b,{to:"/updateTeam/".concat(c,"/").concat(d),className:"ui primary button",children:"Edit"}),Object(g.jsx)(i.b,{to:"/updateMembers/add/".concat(c,"/").concat(d),className:"ui orange button",children:"Add member"}),Object(g.jsx)(i.b,{to:"/updateMembers/remove/".concat(c,"/").concat(d),className:"ui red button",color:"red",children:"Remove member"})]})]})})})})})};var Q=function(){return Object(g.jsx)(w,{children:Object(g.jsxs)(m.a,{style:{padding:"1rem"},children:[Object(g.jsx)(l.a,{as:"h2",attached:"top",children:"React Assignment"}),Object(g.jsx)(o.a,{attached:!0,children:Object(g.jsx)(i.a,{children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)(j.a.Column,{mobile:16,tablet:4,computer:4,children:Object(g.jsx)(K,{})}),Object(g.jsx)(j.a.Column,{mobile:16,tablet:12,computer:12,children:Object(g.jsxs)(s.c,{children:[Object(g.jsx)(s.a,{path:"/employee",children:Object(g.jsx)(k,{})}),Object(g.jsx)(s.a,{path:"/updateEmployee/:id",children:Object(g.jsx)(H,{})}),Object(g.jsx)(s.a,{path:"/updateEmployee",children:Object(g.jsx)(H,{})}),Object(g.jsx)(s.a,{path:"/departmentDetails/:id",children:Object(g.jsx)(P,{})}),Object(g.jsx)(s.a,{path:"/addDepartment",children:Object(g.jsx)(A,{})}),Object(g.jsx)(s.a,{path:"/departments",children:Object(g.jsx)(F,{})}),Object(g.jsx)(s.a,{path:"/addTeam/:departmentId",children:Object(g.jsx)(J,{})}),Object(g.jsx)(s.a,{path:"/updateTeam/:departmentId/:teamId",children:Object(g.jsx)(J,{})}),Object(g.jsx)(s.a,{path:"/updateMembers/:action/:departmentId/:teamId",children:Object(g.jsx)(V,{})}),Object(g.jsx)(s.a,{path:"/changeTeam/:departmentId/:teamId/:employeeId",children:Object(g.jsx)(z,{})}),Object(g.jsx)(s.a,{path:"/viewTeam/:departmentId/:teamId",children:Object(g.jsx)(q,{})}),Object(g.jsx)(s.a,{path:"/",children:Object(g.jsx)(k,{})})]})})]})})})]})})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,d=t.getTTFB;a(e),n(e),r(e),c(e),d(e)}))};d.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Q,{})}),document.getElementById("root")),W()}},[[159,1,2]]]);
//# sourceMappingURL=main.2848638c.chunk.js.map